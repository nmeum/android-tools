From a9011e05e3817dd9384d374b9c552a08b29b696f Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?S=C3=B6ren=20Tempel?= <soeren+git@soeren-tempel.net>
Date: Fri, 28 May 2021 07:08:35 +0200
Subject: [PATCH] adb_mdns: Don't use _Nonnull

Only supported as a function attribute by GCC.
---
 adb_mdns.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/adb_mdns.h b/adb_mdns.h
index 471ec25..10a8b14 100644
--- a/adb_mdns.h
+++ b/adb_mdns.h
@@ -35,6 +35,10 @@
 #define ADB_SECURE_SERVICE_VERSION 1
 #define ADB_SECURE_CLIENT_VERSION ADB_SECURE_SERVICE_VERSION
 
+#ifndef __clang__
+#define _Nonnull
+#endif
+
 constexpr int kADBTransportServiceRefIndex = 0;
 constexpr int kADBSecurePairingServiceRefIndex = 1;
 constexpr int kADBSecureConnectServiceRefIndex = 2;
